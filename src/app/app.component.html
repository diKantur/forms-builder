<main>
  <section class="styles">
    <mat-accordion class="example-headers-align" multi>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            General styles
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="addStyle">
          {{ displayStyle(formProp.style) }}
          <input (keydown.enter)="formProp.changeStyle($event.target.value)" />
        </div>
      </mat-expansion-panel>

      <mat-expansion-panel *ngFor="let panel of accordionList; let idx = index">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ panel.title }}
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="addStyle">
          {{ displayStyle(accordionList[idx].style) }}
          <input (keydown.enter)="changeStyle($event.target.value, idx)" />
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </section>

  <section class="builder">
    <form
      [ngStyle]="formProp.style"
      cdkDropList
      #formList="cdkDropList"
      [cdkDropListData]="accordionList"
      (cdkDropListDropped)="drop($event)"
    >
      <input
        *ngFor="let item of accordionList; let i = index"
        cdkDrag
        type="{{item.type}}"
        [ngStyle]="accordionList[i]?.style"
        value="{{item.value}}"
      />
    </form>
  </section>

  <section class="elements">
    <form
      cdkDropList
      cdkDropListSortingDisabled
      #todoList="cdkDropList"
      [cdkDropListData]="formElements"
      [cdkDropListConnectedTo]="[formList]"
      (cdkDropListDropped)="drop($event)"
    >
      <input
        *ngFor="let item of formElements"
        cdkDrag
        type="{{item.type}}"
        value="{{ item.value }}"
      />
    </form>
    <!-- <label for="">label <input type="text" /></label>
    <button>Button</button>
    <label for="">
      <input type="checkbox" name="" id=""/>
      label
    </label>
    <select name="" id="">
      <option value="">Select</option>
    </select>
    <textarea name="" id="" cols="30" rows="10">Textarea</textarea> -->
  </section>
</main>
